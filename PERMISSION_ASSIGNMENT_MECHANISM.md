# Teable æƒé™åˆ†é…æœºåˆ¶è¯¦è§£

## âœ… ç­”æ¡ˆï¼šæ˜¯çš„ï¼å¼€æºç‰ˆçš„æƒé™æ˜¯åœ¨åˆ†äº«ç»™åä½œè€…æ—¶æä¾›çš„

æƒé™åˆ†é…å‘ç”Ÿåœ¨ **é‚€è¯·åä½œè€…** æˆ– **åˆ†äº«é“¾æ¥** æ—¶ï¼Œé€šè¿‡é€‰æ‹© **è§’è‰²ï¼ˆRoleï¼‰** æ¥å†³å®šã€‚

---

## ğŸ¯ æƒé™åˆ†é…æµç¨‹

### 1. é‚€è¯·å…¥å£

åœ¨ Teable ä¸­ï¼Œæœ‰å¤šä¸ªåœ°æ–¹å¯ä»¥é‚€è¯·åä½œè€…ï¼š

#### è¡¨æ ¼é¡µé¢
```tsx
// apps/nextjs-app/src/features/app/blocks/table/table-header/TableHeader.tsx
<BaseCollaboratorModalTrigger
  base={{
    name: base.name,
    role: base.role,
    id: base.id,
  }}
>
  <Button variant="default" size="xs">
    <UserPlus className="size-4" /> {t('space:action.invite')}
  </Button>
</BaseCollaboratorModalTrigger>
```

#### Space è®¾ç½®é¡µé¢
```tsx
// apps/nextjs-app/src/features/app/blocks/space-setting/collaborator/CollaboratorPage.tsx
<SpaceCollaboratorModalTrigger space={space}>
  <Button size="sm">
    <UserPlus className="size-4" /> {t('space:action.invite')}
  </Button>
</SpaceCollaboratorModalTrigger>
```

---

### 2. åä½œè€…æ·»åŠ ç•Œé¢

æ ¸å¿ƒç»„ä»¶ï¼š`CollaboratorAdd`

```typescript
// apps/nextjs-app/src/features/app/components/collaborator-manage/components/CollaboratorAdd.tsx

export const CollaboratorAdd = (props: ICollaboratorAddProps) => {
  const { resourceId, resourceType, currentRole, onConfirm } = props;
  
  // âœ… é»˜è®¤è§’è‰²é€‰æ‹©
  const [role, setRole] = useState<IRole>(() =>
    isBase && currentRole === Role.Owner 
      ? Role.Creator  // Owner é‚€è¯·æ—¶é»˜è®¤ä¸º Creator
      : currentRole   // å…¶ä»–è§’è‰²é‚€è¯·æ—¶é»˜è®¤ä¸ºè‡ªå·±çš„è§’è‰²
  );
  
  // âœ… å¯é€‰æ‹©çš„è§’è‰²èŒƒå›´ï¼ˆåªèƒ½é€‰æ‹©æƒé™â‰¤è‡ªå·±çš„è§’è‰²ï¼‰
  const filteredRoleStatic = useFilteredRoleStatic(currentRole);
  
  return (
    <div>
      {/* è§’è‰²é€‰æ‹©å™¨ */}
      <RoleSelect
        value={role}
        onChange={setRole}
        options={isBase ? filteredBaseRoleStatic : filteredRoleStatic}
      />
      
      {/* æ·»åŠ æŒ‰é’® */}
      <Button onClick={() => {
        addCollaborators(
          selectedMembers.map((m) => ({
            principalId: m.id,
            principalType: m.type === MemberSelectorNodeType.USER
              ? PrincipalType.User
              : PrincipalType.Department,
          }))
        );
      }}>
        {t('common:actions.add')}
      </Button>
    </div>
  );
};
```

---

### 3. è§’è‰²é€‰æ‹©å™¨

```typescript
// apps/nextjs-app/src/features/app/components/collaborator-manage/components/RoleSelect.tsx

export const RoleSelect = (props: IRoleSelect) => {
  const { value, options, onChange } = props;
  
  return (
    <Select
      value={value}
      onValueChange={(value) => onChange?.(value as IRole)}
    >
      <SelectTrigger className="h-8 w-32">
        <SelectValue>{showSelectedRoleValue}</SelectValue>
      </SelectTrigger>
      <SelectContent className="w-72">
        {options.map(({ role, name, description }) => (
          <SelectItem key={role} value={role}>
            <span className="text-sm">{name}</span>
            <p className="text-xs text-muted-foreground">
              {description}
            </p>
          </SelectItem>
        ))}
      </SelectContent>
    </Select>
  );
};
```

---

### 4. è§’è‰²è¿‡æ»¤è§„åˆ™

**é‡è¦è§„åˆ™**ï¼šç”¨æˆ·åªèƒ½é‚€è¯· **æƒé™ç­‰çº§ â‰¤ è‡ªå·±** çš„åä½œè€…

```typescript
// apps/nextjs-app/src/features/app/components/collaborator-manage/utils.ts

export const getRolesWithLowerPermissions = (
  role: IRole,
  roleStatic: IRoleStatic[],
  includeRole: boolean = true
) => {
  const roleLevel = roleStatic.find((item) => item.role === role)?.level;
  if (roleLevel == undefined) {
    return [];
  }
  return roleStatic.filter(({ level }) => 
    includeRole ? level >= roleLevel : level > roleLevel
  );
};
```

**è§’è‰²ç­‰çº§**ï¼ˆlevel è¶Šå°æƒé™è¶Šé«˜ï¼‰ï¼š
```
Owner     â†’ level 1 (æœ€é«˜)
Creator   â†’ level 2
Editor    â†’ level 3
Commenter â†’ level 4
Viewer    â†’ level 5 (æœ€ä½)
```

---

### 5. è§’è‰²é€‰æ‹©çŸ©é˜µ

| é‚€è¯·è€…è§’è‰² | å¯ä»¥é‚€è¯·çš„è§’è‰² | è¯´æ˜ |
|-----------|---------------|------|
| **Owner** | Creator, Editor, Commenter, Viewer | âŒ ä¸èƒ½é‚€è¯· Owner <br> âœ… Base ä¸­ Owner é‚€è¯·é»˜è®¤ä¸º Creator |
| **Creator** | Creator, Editor, Commenter, Viewer | âœ… å¯ä»¥é‚€è¯·åŒçº§æˆ–æ›´ä½æƒé™ |
| **Editor** | Editor, Commenter, Viewer | âœ… å¯ä»¥é‚€è¯·åŒçº§æˆ–æ›´ä½æƒé™ |
| **Commenter** | Commenter, Viewer | âœ… å¯ä»¥é‚€è¯·åŒçº§æˆ–æ›´ä½æƒé™ |
| **Viewer** | Viewer | âœ… åªèƒ½é‚€è¯·åŒçº§ |

---

### 6. åç«¯ API è°ƒç”¨

```typescript
// è°ƒç”¨æ·»åŠ åä½œè€… API
const { mutate: addCollaborators } = useMutation({
  mutationFn: async (collaborators: IAddCollaborator[]) => {
    if (isBase) {
      // Base çº§åˆ«
      await addBaseCollaborator(resourceId, {
        collaborators: userCollaborators,
        role: role as IBaseRole,  // â† é€‰æ‹©çš„è§’è‰²
      });
    } else {
      // Space çº§åˆ«
      await addSpaceCollaborator(resourceId, {
        collaborators: userCollaborators,
        role: role as IRole,  // â† é€‰æ‹©çš„è§’è‰²
      });
    }
  },
});
```

---

### 7. åç«¯éªŒè¯

```typescript
// apps/nestjs-backend/src/features/collaborator/collaborator.service.ts

async addBaseCollaborators(baseId: string, collaborator: AddBaseCollaboratorRo) {
  // âœ… éªŒè¯é‚€è¯·è€…æ˜¯å¦æœ‰æƒé™æ·»åŠ è¯¥è§’è‰²
  await this.validateUserAddRole({
    userId: this.cls.get('user.id'),
    addRole: collaborator.role,  // â† è¦æ·»åŠ çš„è§’è‰²
    resourceId: baseId,
    resourceType: CollaboratorType.Base,
  });
  
  // âœ… åˆ›å»ºåä½œè€…
  return this.createBaseCollaborator({
    collaborators: collaborator.collaborators,
    baseId,
    role: collaborator.role,  // â† åˆ†é…çš„è§’è‰²
    createdBy: this.cls.get('user.id'),
  });
}

async validateUserAddRole({
  userId,
  addRole,
  resourceId,
  resourceType,
}: {
  userId: string;
  addRole: IRole;
  resourceId: string;
  resourceType: CollaboratorType;
}) {
  // è·å–å½“å‰ç”¨æˆ·çš„è§’è‰²
  const userRole = await this.getUserRole(...);
  
  // âœ… æ£€æŸ¥æ˜¯å¦æœ‰æƒé™æ·»åŠ è¯¥è§’è‰²
  if (!canManageRole(userRole, addRole)) {
    throw new ForbiddenException(
      'You do not have permission to add this role'
    );
  }
}
```

---

## ğŸ“Š å®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ç”¨æˆ·ç‚¹å‡»"é‚€è¯·"æŒ‰é’®                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. æ‰“å¼€åä½œè€…é‚€è¯·å¯¹è¯æ¡†                                  â”‚
â”‚    - é€‰æ‹©æˆå‘˜ï¼ˆç”¨æˆ·/éƒ¨é—¨ï¼‰                               â”‚
â”‚    - é€‰æ‹©è§’è‰²ï¼ˆä¸‹æ‹‰æ¡†ï¼‰                                  â”‚
â”‚      â””â†’ åªæ˜¾ç¤ºæƒé™ â‰¤ è‡ªå·±çš„è§’è‰²                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. è§’è‰²é€‰æ‹©ç¤ºä¾‹                                          â”‚
â”‚                                                          â”‚
â”‚   å½“å‰ç”¨æˆ·ï¼šOwner                                        â”‚
â”‚   å¯é€‰è§’è‰²ï¼š                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚ âœ“ Creator      (åˆ›å»ºè€…)      â”‚                       â”‚
â”‚   â”‚   å¯ä»¥åˆ›å»ºè¡¨æ ¼å’Œå­—æ®µ           â”‚                       â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
â”‚   â”‚ âœ“ Editor       (ç¼–è¾‘è€…)      â”‚                       â”‚
â”‚   â”‚   å¯ä»¥ç¼–è¾‘è®°å½•                â”‚                       â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
â”‚   â”‚ âœ“ Commenter    (è¯„è®ºè€…)      â”‚                       â”‚
â”‚   â”‚   åªèƒ½æŸ¥çœ‹å’Œè¯„è®º              â”‚                       â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
â”‚   â”‚ âœ“ Viewer       (æŸ¥çœ‹è€…)      â”‚                       â”‚
â”‚   â”‚   åªèƒ½æŸ¥çœ‹                    â”‚                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ç”¨æˆ·é€‰æ‹©è§’è‰²ï¼šEditor                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ç‚¹å‡»"æ·»åŠ "æŒ‰é’®                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. å‰ç«¯å‘é€ API è¯·æ±‚                                     â”‚
â”‚    POST /api/base/{baseId}/collaborator                 â”‚
â”‚    Body: {                                               â”‚
â”‚      collaborators: [                                    â”‚
â”‚        { principalId: 'usrXXX', principalType: 'user' }  â”‚
â”‚      ],                                                  â”‚
â”‚      role: 'editor'  â† é€‰æ‹©çš„è§’è‰²                        â”‚
â”‚    }                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. åç«¯å¤„ç†                                              â”‚
â”‚    âœ… éªŒè¯é‚€è¯·è€…æƒé™                                     â”‚
â”‚    âœ… éªŒè¯è¢«é‚€è¯·è€…æ˜¯å¦å­˜åœ¨                               â”‚
â”‚    âœ… æ£€æŸ¥æ˜¯å¦å·²ç»æ˜¯åä½œè€…                               â”‚
â”‚    âœ… åˆ›å»ºåä½œè€…è®°å½•ï¼ˆåˆ†é… Editor è§’è‰²ï¼‰                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. æ•°æ®åº“ä¿å­˜                                            â”‚
â”‚    INSERT INTO collaborator (                            â”‚
â”‚      base_id,                                            â”‚
â”‚      user_id,                                            â”‚
â”‚      role_id,        â† 'editor'                         â”‚
â”‚      created_by                                          â”‚
â”‚    )                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. è¢«é‚€è¯·è€…è·å¾—æƒé™                                      â”‚
â”‚    âœ… Editor è§’è‰²çš„æ‰€æœ‰æƒé™                              â”‚
â”‚       - record|read      âœ…                              â”‚
â”‚       - record|create    âœ…                              â”‚
â”‚       - record|update    âœ…                              â”‚
â”‚       - record|delete    âœ…                              â”‚
â”‚       - field|read       âœ…                              â”‚
â”‚       - field|create     âŒ                              â”‚
â”‚       - field|update     âŒ                              â”‚
â”‚       - table|create     âŒ                              â”‚
â”‚       - ... (50+ æƒé™)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10. å‰ç«¯æƒé™ç”Ÿæ•ˆ                                         â”‚
â”‚     è¢«é‚€è¯·è€…è®¿é—® Base æ—¶ï¼š                                â”‚
â”‚     - useBasePermission() è¿”å› Editor çš„æƒé™ Map         â”‚
â”‚     - UI æ ¹æ®æƒé™æ˜¾ç¤º/éšè—åŠŸèƒ½                           â”‚
â”‚     - API è¯·æ±‚è‡ªåŠ¨é™„åŠ æƒé™æ£€æŸ¥                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ å…³é”®ç‚¹æ€»ç»“

### 1. æƒé™æ¥æº
âœ… **åä½œè€…é‚€è¯·æ—¶åˆ†é…**
- Space çº§åˆ«åä½œè€…
- Base çº§åˆ«åä½œè€…

### 2. è§’è‰² = æƒé™åŒ…
æ¯ä¸ªè§’è‰²å¯¹åº”ä¸€ç»„é¢„å®šä¹‰çš„æƒé™ï¼ˆ50+ ä¸ªï¼‰

```typescript
// packages/core/src/auth/role/constant.ts
[Role.Editor]: {
  'space|read': true,
  'base|read': true,
  'table|read': true,
  'table|create': false,  // âŒ Editor ä¸èƒ½åˆ›å»ºè¡¨
  'field|read': true,
  'field|create': false,  // âŒ Editor ä¸èƒ½åˆ›å»ºå­—æ®µ
  'record|read': true,
  'record|create': true,
  'record|update': true,
  'record|delete': true,
  'record|comment': true,
  // ... 50+ æƒé™
}
```

### 3. æƒé™å±‚çº§
- **Space æƒé™** â†’ è‡ªåŠ¨ç»§æ‰¿åˆ°æ‰€æœ‰ Base
- **Base æƒé™** â†’ è‡ªåŠ¨ç»§æ‰¿åˆ°æ‰€æœ‰ Table
- **å–æœ€å°æƒé™** - å¦‚æœ Space æ˜¯ Viewerï¼ŒBase æ˜¯ Ownerï¼Œå®é™…ä¸º Viewer

### 4. åŠ¨æ€æƒé™æ£€æŸ¥
```typescript
// å‰ç«¯å®æ—¶æ£€æŸ¥
const permission = useBasePermission();

// æ¸²æŸ“æ—¶æ£€æŸ¥
{permission['table|create'] && <CreateTableButton />}

// API è°ƒç”¨æ—¶æ£€æŸ¥
@Permissions('record|update')
async updateRecord() { }
```

---

## ğŸ¯ å¼€æºç‰ˆ vs ä¼ä¸šç‰ˆæƒé™å¯¹æ¯”

| ç‰¹æ€§ | å¼€æºç‰ˆ | ä¼ä¸šç‰ˆ |
|------|--------|--------|
| **è§’è‰²ç³»ç»Ÿ** | âœ… 5 ç§è§’è‰² | âœ… 5 ç§è§’è‰² |
| **50+ æƒé™åŠ¨ä½œ** | âœ… å®Œæ•´æ”¯æŒ | âœ… å®Œæ•´æ”¯æŒ |
| **åä½œè€…é‚€è¯·** | âœ… å®Œæ•´æ”¯æŒ | âœ… å®Œæ•´æ”¯æŒ |
| **è§’è‰²åˆ†é…** | âœ… é‚€è¯·æ—¶é€‰æ‹© | âœ… é‚€è¯·æ—¶é€‰æ‹© |
| **æƒé™ç»§æ‰¿** | âœ… Space â†’ Base â†’ Table | âœ… Space â†’ Base â†’ Table |
| **è§†å›¾å…±äº«** | âœ… æ”¯æŒ | âœ… æ”¯æŒ |
| **å­—æ®µçº§æƒé™çŸ©é˜µ** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒï¼ˆéœ€ Proï¼‰ |
| **è¡Œçº§æƒé™ï¼ˆRLSï¼‰** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒï¼ˆéœ€ Enterpriseï¼‰ |

---

## ğŸ’¡ å®é™…ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šé‚€è¯·åŒäº‹ä¸º Editor

```
1. ä½œä¸º Ownerï¼Œç‚¹å‡»"é‚€è¯·"
2. è¾“å…¥åŒäº‹é‚®ç®±ï¼šcolleague@company.com
3. é€‰æ‹©è§’è‰²ï¼šEditor
4. ç‚¹å‡»"å‘é€é‚€è¯·"

âœ… åŒäº‹æ”¶åˆ°é‚€è¯·é‚®ä»¶ï¼Œæ¥å—åè·å¾— Editor æƒé™ï¼š
   - å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ•°æ®
   - å¯ä»¥æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤è®°å½•
   - å¯ä»¥è¯„è®º
   - âŒ ä¸èƒ½åˆ›å»ºè¡¨æ ¼
   - âŒ ä¸èƒ½ä¿®æ”¹å­—æ®µ
```

### ç¤ºä¾‹ 2ï¼šé‚€è¯·å®¢æˆ·ä¸º Viewer

```
1. ä½œä¸º Creatorï¼Œç‚¹å‡»"é‚€è¯·"
2. è¾“å…¥å®¢æˆ·é‚®ç®±ï¼šclient@customer.com
3. é€‰æ‹©è§’è‰²ï¼šViewer
4. ç‚¹å‡»"å‘é€é‚€è¯·"

âœ… å®¢æˆ·è·å¾— Viewer æƒé™ï¼š
   - âœ… å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ•°æ®
   - âŒ ä¸èƒ½ç¼–è¾‘ä»»ä½•å†…å®¹
   - âŒ ä¸èƒ½è¯„è®º
   - âŒ ä¸èƒ½åˆ›å»ºè®°å½•
```

---

## ğŸ”’ å®‰å…¨æœºåˆ¶

### 1. å‰ç«¯é™åˆ¶
- UI æ ¹æ®æƒé™æ˜¾ç¤º/éšè—æŒ‰é’®
- é˜²æ­¢è¯¯æ“ä½œ

### 2. åç«¯å¼ºåˆ¶éªŒè¯
- æ¯ä¸ª API éƒ½æœ‰ `@Permissions` è£…é¥°å™¨
- å³ä½¿å‰ç«¯ç»•è¿‡ï¼Œåç«¯ä¹Ÿä¼šæ‹’ç»

### 3. è§’è‰²ç®¡ç†é™åˆ¶
- åªèƒ½é‚€è¯·æƒé™ â‰¤ è‡ªå·±çš„è§’è‰²
- é˜²æ­¢æƒé™æå‡æ”»å‡»

---

## âœ… ç»“è®º

**æ˜¯çš„ï¼** å¼€æºç‰ˆçš„æƒé™å®Œå…¨æ˜¯é€šè¿‡ **é‚€è¯·åä½œè€…æ—¶é€‰æ‹©è§’è‰²** æ¥åˆ†é…çš„ï¼š

1. âœ… é‚€è¯·æ—¶é€‰æ‹© 5 ç§è§’è‰²ä¹‹ä¸€
2. âœ… æ¯ä¸ªè§’è‰²å¯¹åº”ä¸€ç»„é¢„å®šä¹‰æƒé™ï¼ˆ50+ï¼‰
3. âœ… æƒé™ç«‹å³ç”Ÿæ•ˆï¼Œå®æ—¶åŒæ­¥
4. âœ… å‰åç«¯åŒé‡éªŒè¯ï¼Œç¡®ä¿å®‰å…¨

è™½ç„¶æ²¡æœ‰ä¼ä¸šç‰ˆçš„ **å­—æ®µçº§æƒé™çŸ©é˜µ**ï¼Œä½†å¼€æºç‰ˆçš„è§’è‰²æƒé™ç³»ç»Ÿå·²ç»éå¸¸å¼ºå¤§å’Œçµæ´»ï¼ğŸ‰



